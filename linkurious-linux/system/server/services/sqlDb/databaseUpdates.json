[
  {
    "version": "2.2.2",
    "comment": "updates for 2.2.2",
    "changes": [
      {
        "type": "addColumn",
        "tableName": "matches",
        "columnName": "version",
        "columnType": "INTEGER",
        "allowNull": false,
        "defaultValue": 1
      }
    ]
  },
  {
    "version": "2.0.1",
    "comment": "updates for 2.1.0",
    "changes": [
      {
        "type": "addColumn",
        "tableName": "alerts",
        "columnName": "columns",
        "columnType": "TEXT",
        "allowNull": true,
        "defaultValue": null
      },
      {
        "type": "addColumn",
        "tableName": "matches",
        "columnName": "columnString0",
        "columnType": "STRING",
        "allowNull": true,
        "defaultValue": null
      },
      {
        "type": "addColumn",
        "tableName": "matches",
        "columnName": "columnNumber0",
        "columnType": "DOUBLE",
        "allowNull": true,
        "defaultValue": null
      },
      {
        "type": "addColumn",
        "tableName": "matches",
        "columnName": "columnString1",
        "columnType": "STRING",
        "allowNull": true,
        "defaultValue": null
      },
      {
        "type": "addColumn",
        "tableName": "matches",
        "columnName": "columnNumber1",
        "columnType": "DOUBLE",
        "allowNull": true,
        "defaultValue": null
      },
      {
        "type": "addColumn",
        "tableName": "matches",
        "columnName": "columnString2",
        "columnType": "STRING",
        "allowNull": true,
        "defaultValue": null
      },
      {
        "type": "addColumn",
        "tableName": "matches",
        "columnName": "columnNumber2",
        "columnType": "DOUBLE",
        "allowNull": true,
        "defaultValue": null
      },
      {
        "type": "addColumn",
        "tableName": "matches",
        "columnName": "columnString3",
        "columnType": "STRING",
        "allowNull": true,
        "defaultValue": null
      },
      {
        "type": "addColumn",
        "tableName": "matches",
        "columnName": "columnNumber3",
        "columnType": "DOUBLE",
        "allowNull": true,
        "defaultValue": null
      },{
        "type": "addColumn",
        "tableName": "matches",
        "columnName": "columnString4",
        "columnType": "STRING",
        "allowNull": true,
        "defaultValue": null
      },
      {
        "type": "addColumn",
        "tableName": "matches",
        "columnName": "columnNumber4",
        "columnType": "DOUBLE",
        "allowNull": true,
        "defaultValue": null
      }
    ]
  },
  {
    "version": "1.99.1",
    "comment": "updates for 2.0.0",
    "changes": [
      {
        "type": "addColumn",
        "tableName": "groups",
        "columnName": "sourceKey",
        "columnType": "STRING",
        "allowNull": false,
        "defaultValue": "*"
      },
      {
        "exceptDialects": ["sqlite"],
        "type": "changeColumn",
        "tableName": "accessRights",
        "columnName": "type",
        "columnType": "STRING",
        "allowNull": false,
        "defaultValue": ""
      },
      {
        "exceptDialects": ["sqlite"],
        "type": "changeColumn",
        "tableName": "accessRights",
        "columnName": "targetType",
        "columnType": "STRING",
        "allowNull": false,
        "defaultValue": ""
      }
    ]
  },
  {
    "version": "1.99.0",
    "comment": "updates for 2.0.0",
    "changes": [
      {
        "type": "addColumn",
        "tableName": "visualizations",
        "columnName": "version",
        "columnType": "INTEGER",
        "allowNull": false,
        "defaultValue": 1
      }
    ]
  },
  {
    "version": "1.5.4",
    "comment": "updates after 1.5.3",
    "changes": [
      {
        "exceptDialects": ["sqlite"],
        "type": "changeColumn",
        "tableName": "visualizationShares",
        "columnName": "right",
        "columnType": "STRING",
        "allowNull": false,
        "defaultValue": "read"
      }
    ]
  },
  {
    "version": "1.5.2",
    "comment": "updates after 1.5.1",
    "changes": [
      {
        "type": "changeColumn",
        "tableName": "matches",
        "columnName": "score",
        "columnType": "INTEGER",
        "allowNull": true,
        "defaultValue": null
      },
      {
        "type": "renameColumn",
        "tableName": "applications",
        "columnName": "accessToken",
        "newColumnName": "apiKey"
      }
    ]
  },
  {
    "version": "1.4.9",
    "comment": "updates since 1.4.8",
    "changes": [
      {
        "type": "addColumn",
        "tableName": "widgets",
        "columnName": "salt",
        "columnType": "STRING",
        "allowNull": true,
        "defaultValue": null
      },
      {
        "type": "addColumn",
        "tableName": "widgets",
        "columnName": "password",
        "columnType": "STRING",
        "allowNull": true,
        "defaultValue": null
      }
    ]
  },
  {
    "version": "1.4.4",
    "comment": "updates after 1.4.3",
    "changes": [
      {
        "type": "changeColumn",
        "tableName": "alerts",
        "columnName": "scoreColumn",
        "columnType": "STRING",
        "allowNull": true,
        "defaultValue": null
      }
    ]
  },
  {
    "version": "1.3.9",
    "comment": "updates after 1.3.8",
    "changes": [
      {
        "exceptDialects": ["sqlite"],
        "type": "changeColumn",
        "tableName": "widgets",
        "columnName": "content",
        "columnType": "LONGTEXT",
        "allowNull": true,
        "defaultValue": null
      }
    ]
  },
  {
    "version": "1.3.8",
    "comment": "updates after 1.3.7",
    "changes": [
      {
        "type": "addColumn",
        "tableName": "dataSourceStates",
        "columnName": "graphVendor",
        "columnType": "STRING",
        "allowNull": true,
        "defaultValue": null
      },
      {
        "type": "addColumn",
        "tableName": "dataSourceStates",
        "columnName": "indexVendor",
        "columnType": "STRING",
        "allowNull": true,
        "defaultValue": null
      }
    ]
  },
  {
    "version": "1.3.7",
    "comment": "updates after 1.3.6",
    "changes": [
      {
        "type": "addColumn",
        "tableName": "users",
        "columnName": "source",
        "columnType": "STRING",
        "allowNull": false,
        "defaultValue": "local"
      }
    ]
  },
  {
    "version": "1.3.4",
    "comment": "Updates from 1.3.3 to 1.3.4",
    "changes": [
      {
        "exceptDialects": ["sqlite"],
        "type": "changeColumn",
        "tableName": "visualizations",
        "columnName": "nodes",
        "columnType": "LONGTEXT",
        "allowNull": true,
        "defaultValue": null
      },
      {
        "exceptDialects": ["sqlite"],
        "type": "changeColumn",
        "tableName": "visualizations",
        "columnName": "edges",
        "columnType": "LONGTEXT",
        "allowNull": true,
        "defaultValue": null
      }
    ]
  },
  {
    "version": "1.2.3",
    "comment": "updates after 1.2.2",
    "changes": [
      {
        "type": "addColumn",
        "tableName": "users",
        "columnName": "preferences",
        "columnType": "TEXT",
        "allowNull": true,
        "defaultValue": null
      }
    ]
  },
  {
    "version": "1.1.5",
    "comment": "updates after 1.1.4",
    "changes": [
      {
        "type": "addColumn",
        "tableName": "visualizations",
        "columnName": "geo",
        "columnType": "TEXT",
        "allowNull": true,
        "defaultValue": null
      }
    ]
  },
  {
    "version": "1.1.4",
    "comment": "updates after 1.1.3",
    "changes": [
      {
        "type": "removeColumn",
        "tableName": "visualizations",
        "columnName": "selection"
      }
    ]
  },
  {
    "version": "1.1.3",
    "comment": "updates after 1.1.2",
    "changes": [
      {
        "type": "addColumn",
        "tableName": "visualizations",
        "columnName": "mode",
        "columnType": "STRING",
        "allowNull": true,
        "defaultValue": "nodelink"
      },
      {
        "type": "addColumn",
        "tableName": "visualizations",
        "columnName": "layout",
        "columnType": "TEXT",
        "allowNull": true,
        "defaultValue": null
      }
    ]
  },
  {
    "version": "1.1.2",
    "comment": "updates after 1.1.1",
    "changes": [
      {
        "type": "addColumn",
        "tableName": "visualizations",
        "columnName": "alternativeIds",
        "columnType": "TEXT",
        "allowNull": true,
        "defaultValue": null
      }
    ]
  },
  {
    "version": "1.0.1",
    "comment": "updates after 1.0.0",
    "changes": [
      {"type": "dropTable", "tableName": "nodeProperties"},
      {"type": "dropTable", "tableName": "edgeProperties"},
      {"type": "dropTable", "tableName": "nodeTypes"},
      {"type": "dropTable", "tableName": "edgeTypes"},
      {"type": "removeColumn", "tableName": "dataSourceStates", "columnName": "needReindex"},
      {
        "type": "addColumn",
        "tableName": "dataSourceStates",
        "columnName": "needReindex",
        "columnType": "BOOLEAN",
        "allowNull": false,
        "defaultValue": true
      }
    ]
  },
  {
    "version": "0.10.6",
    "comment": "DB updates after 0.10.5.",
    "changes": [
      {
        "type": "addColumn",
        "tableName": "dataSourceStates",
        "columnName": "indexationError",
        "columnType": "TEXT",
        "allowNull": true,
        "defaultValue": null
      },
      {
        "type": "addColumn",
        "tableName": "visualizations",
        "columnName": "sandbox",
        "columnType": "BOOLEAN",
        "allowNull": false,
        "defaultValue": false
      }
    ]
  },
  {
    "version": "0.10.2",
    "comment": "DB updates after 0.10.1. ",
    "changes": [
      {
        "type": "addColumn",
        "tableName": "dataSourceStates",
        "columnName": "needReindex",
        "columnType": "BOOLEAN",
        "allowNull": false,
        "defaultValue": false
      }
    ]
  }
]
